---
title: "How I run emacs in client/server mode under macOS"
date: 2020-11-30T13:21:26+11:00
draft: False
tags: ["emacs", "howto"]
---
Many articles are available about running Emacs in [client/server mode](https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html). However, when I tried to do it in my particular environment (macOS 11.0.1 Big Sur, using `zsh`), some tweaks were still needed. It's probably useful to document  my setup.

In macOS, the Emacs executable is `/Applications/Emacs.app/Contents/MacOS/Emacs`. To run Emacs in its regular (non-server) operation mode, I defined two shell commands in `.zshrc`: `emacs` runs Emacs with GUI, whereas `emacsnw` runs Emacs in text mode within the terminal. I started by defining `emacs` as an alias similar to `emacsnv`, but the problem was that it's easy to forget the `&` at the end to put it in the background.

```sh
function emacs() { /Applications/Emacs.app/Contents/MacOS/Emacs $@ &; }
alias emacsnw="/Applications/Emacs.app/Contents/MacOS/Emacs -nw"
```

I used to use `emacsnw` exclusively, because I thought that managing an addition macOS window was a bit of a hassle. However, I eventually decided to switch to the GUI mode because I liked how org-mode documents are rendered. The problem with the `emacs` shell command, though, was that if I use it to open a second document, a new instance of Emacs would be launched. What I 







